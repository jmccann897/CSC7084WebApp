<!-- Currently a form submission template but needs to be the list -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
    <link rel="stylesheet" href="mystyles.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class=".container"><%- include('header'); %></div>

    <div class=".container"><%- include('nav'); %></div>

    <!-- Historical data table -->
    <div class=".container border border-danger">
      <div class="bd-example">
        <table class="table table-hover">
          <thead>
            <tr>
              <th scope="col">Date</th>
              <th scope="col">Happiness</th>
              <th scope="col">Sadness</th>
              <th scope="col">Disgust</th>
              <th scope="col">Contempt</th>
              <th scope="col">Anger</th>
              <th scope="col">Fear</th>
              <th scope="col">Surprise</th>
            </tr>
          </thead>
          <tbody>

          <tr>
              <!--<th scope="row">Input</th>-->
             <!-- SQL Query returns an array of JSON-->
             <!-- I want to match the same snapshot_id to generate a row of data-->
              
              <!-- Date data-->
             <% const dateformat = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'}; %>
              <!-- Connect to snapshot table and extract date of snapshot-->
              <% history.forEach((row) => { %>
                  <% console.log(`Emotion id = ${row.emotion_id} and emotion score is ${row.score}`); %>          
              <% }); %> 




<!-- 
              <% history.forEach((row) => { %>
                <% let id = row.snapshot_id; %> <!--Use while loop to capture scores--><!--
                <% let temp = id; %>
                
                <% while (id===temp){ %>
                  <% var rawdate = new Date(row.datetime); %>
                  <% var snapdate = new Intl.DateTimeFormat('en-GB', dateformat).format(rawdate); %>  
                  <tr>
                    <td> <%= snapdate %></td>
                    <% if (row.emotion_id === 1){  %>
                    <td> <%= row.score %></td>
                    <% } else if(row.emotion_id ===2){ %>
                    <td> <%row.score %></td>
                    <% } else if(row.emotion_id ===3){ %>
                    <td> <%row.score %></td>
                    <% } else if(row.emotion_id ===4){ %>
                    <td> <%row.score %></td>
                    <% } else if(row.emotion_id ===5){ %>
                    <td> <%row.score %></td>
                    <% } else if(row.emotion_id ===6){ %>
                    <td> <%row.score %></td>
                    <% } else if(row.emotion_id ===7){ %>
                    <td> <%row.score %></td>
                  <% } %>
                <% } %> -->
              
                
                    </tr>
              <!--
            
          
            <%  }); %> -->
          </tr>
        
          
            </tr>
          </tbody>
        </table>
      </div>
    </div>

   
  </body>
</html>
